<!doctype html>

<html lang="en">

<head>
  <title>Krishnan</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="A blog for technical and non techinal writings." />
<meta name="author" content="Krishnan" /><meta property="og:title" content="In Memory Server side pagination" />
<meta property="og:description" content="This post says all about in memory pagination" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://krish22.github.io/posts/pagination-plugin/" />
<meta property="article:published_time" content="2020-09-25T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-09-25T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="In Memory Server side pagination"/>
<meta name="twitter:description" content="This post says all about in memory pagination"/>

<meta name="generator" content="Hugo 0.75.1" />
    

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://krish22.github.io/fontawesome/css/all.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  <link rel="stylesheet" type="text/css" href="https://krish22.github.io/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="https://krish22.github.io/">Krishnan</a>
            </h1>

      <ul id="social-media">
             <li>
               <a href="https://github.com/krish22" title="GitHub">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://twitter.com/krishnanvgp" title="Twitter">
               <i class="fab fa-twitter fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://stackoverflow.com/users/2425514/krishnan" title="StackOverflow">
               <i class="fab fa-stack-overflow fa-lg"></i>
               </a>
             </li>
      </ul>
      
      <p><em>Software Developer</em></p>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="https://krish22.github.io/posts/">
                <i class="fa-li fa  fa-lg"></i><span>Posts</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://krish22.github.io/tags">
                <i class="fa-li fa  fa-lg"></i><span>Tags</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://krish22.github.io/categories">
                <i class="fa-li fa  fa-lg"></i><span>Categories</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://krish22.github.io/about/">
                <i class="fa-li fa  fa-lg"></i><span>About</span>
            </a>
        </li>
        
    </ul>
</nav>


    <main>




<article>

    <h1>In Memory Server side pagination</h1>

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2020-09-25T00:00:00Z">Sep 25, 2020</time>
        </li>
        
        <li>
            Categories:
            <em>
                
                    
                    <a href="https://krish22.github.io/categories/development">Development</a>
                
                    , 
                    <a href="https://krish22.github.io/categories/coding">Coding</a>
                
            </em>
        </li>
        

        
        <li>
            <em>
                
                    
                    <a href="https://krish22.github.io/tags/serversidepagination">#serversidepagination</a>
                
                    , 
                    <a href="https://krish22.github.io/tags/java">#java</a>
                
                    , 
                    <a href="https://krish22.github.io/tags/springboot">#springboot</a>
                
                    , 
                    <a href="https://krish22.github.io/tags/web">#web</a>
                
            </em>
        </li>
        

        <li>4 minutes read</li>
    </ul>
</aside>

    

    
<div class="featured_image">
    <a href="https://krish22.github.io/posts/pagination-plugin/" title="In Memory Server side pagination">
        <img src="">
    </a>
</div>



    <p>Are you dealing with tens-of-thousands of data that supposed to show in the UI, but your data source doesn&rsquo;t support
pagination and filtering provisons. Server Side pagination will be the best suit for that, No worries this plugin will help you to achive pagination, sorting and filtering using in-memory</p>
<h2 id="server-side-pagination">Server Side Pagination</h2>
<p>As we are developing so many software in today&rsquo;s world and dealing with millions and millions of data. Imagine a situation where you have millions of data to show on your web page. A browser will have not able to render all the data at one shot. So the best option is to go for server-side pagination, where a server will return the bounded number of rows to show in the UI.</p>
<hr>
<h2 id="about-this-plugin">About this Plugin</h2>
<p>In most cases, we have a relational database or no-SQL databases which will run the query with limit, offset, ordering along with filtering/searching criteria.</p>
<p>There may be a situation arise where you cannot afford to run a SQL query to get the data, but you want to do support pagination.</p>
<blockquote>
<p>Yes here, this plugin will have all the data&rsquo;s that loaded in to server and does magic of (pagination, searching) for you.</p>
</blockquote>
<p><code>Note: Assuming you have very good memory allocated for JVM, and GC will help us to remove the unused objects at an earlier stage.</code></p>
<hr>
<h2 id="things-that-this-plugin-supports">Things that this plugin supports</h2>
<ol>
<li>This allows you to use pagination with help of limit and offset</li>
<li>One can sort the data by column</li>
<li>Also, search the text in all column (case-insensitive) and get the relevant data</li>
<li>It also includes the regex supports for searching, (i.e) you can pass a regular expression to find relevant data,</li>
</ol>
<hr>
<h2 id="lets-learn-how-to-use-this-plugin">Let&rsquo;s Learn how to use this plugin</h2>
<p>This plugin is written in JAVA 1.8 version.</p>
<ol>
<li>Import the source code from <a href="https://github.com/krish22/paginationplugin">here</a> into your application</li>
<li>In your repository class extends the PagainationDataService and just override the getData() method as follow, This method will return the complete source data from which the plugin will take care of performing pagination and searching for you.</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">EmployeeRepository</span> <span style="color:#66d9ef">extends</span> PaginationDataServiceBase<span style="color:#f92672">&lt;</span>Employee<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>

<span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> List <span style="color:#a6e22e">getData</span><span style="color:#f92672">(</span>PaginationCriteria paginationCriteria<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> PaginationException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;YOUR ENTIRE SOURCE DATA&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

</code></pre></div><ol start="3">
<li>Now, From your service or controller class, create a simple paginator object and call getPageResult as follow,</li>
<li>A getPageResult() method will take PaginationCritera as an input which follows</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PaginationCriteria</span> <span style="color:#f92672">{</span>
    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * Number of items that need to to displayed in a page
</span><span style="color:#75715e">     * If it is 0 then it will return all records
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> limit<span style="color:#f92672">;</span>

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * Paging first record indicator. This is the start point in the current data
</span><span style="color:#75715e">     * set (0 index based - i.e. 0 is the first record).
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> offset<span style="color:#f92672">;</span>

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * search text that will do searching in all columns
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">private</span> String query<span style="color:#f92672">;</span>

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * Column&#39;s ordering criteria.
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">private</span> OrderingCriteria sort<span style="color:#f92672">;</span>

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * Name of the column to sort
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">private</span> String column<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p><code>This plugin also supports search with regex as well.</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DemoApplication</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">static</span> ITablePaginator<span style="color:#f92672">&lt;</span>Employee<span style="color:#f92672">&gt;</span> paginator <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SimplePaginator<span style="color:#f92672">&lt;</span>Employee<span style="color:#f92672">&gt;(</span><span style="color:#66d9ef">new</span> EmployeeRepository<span style="color:#f92672">());</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> PaginationException <span style="color:#f92672">{</span>
        PaginationCriteria criteria <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PaginationCriteria<span style="color:#f92672">();</span>

        IPage<span style="color:#f92672">&lt;</span>Object<span style="color:#f92672">&gt;</span> pageResult <span style="color:#f92672">=</span> paginator<span style="color:#f92672">.</span><span style="color:#a6e22e">getPageResult</span><span style="color:#f92672">(</span>criteria<span style="color:#f92672">);</span>

        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>pageResult<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><ol start="5">
<li>This Plugin allows you to fully customize the implementations, for instance, the SimplePaginator will be used for performing all pagination, searching, and sorting of an object by holding it into a memory.</li>
<li>SimplePaginator will build the output and returns the values as below</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
     <span style="color:#960050;background-color:#1e0010">totalCount</span> <span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#960050;background-color:#1e0010">10,</span> <span style="color:#960050;background-color:#1e0010">//</span> <span style="color:#960050;background-color:#1e0010">This</span> <span style="color:#960050;background-color:#1e0010">represent</span> <span style="color:#960050;background-color:#1e0010">the</span> <span style="color:#960050;background-color:#1e0010">total</span> <span style="color:#960050;background-color:#1e0010">record</span> <span style="color:#960050;background-color:#1e0010">count</span>
     <span style="color:#960050;background-color:#1e0010">items</span> <span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#960050;background-color:#1e0010">[],</span> <span style="color:#960050;background-color:#1e0010">//Array</span> <span style="color:#960050;background-color:#1e0010">of</span> <span style="color:#960050;background-color:#1e0010">objects</span> 
     <span style="color:#960050;background-color:#1e0010">limit</span> <span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#960050;background-color:#1e0010">10,//</span> <span style="color:#960050;background-color:#1e0010">This</span> <span style="color:#960050;background-color:#1e0010">specifies</span> <span style="color:#960050;background-color:#1e0010">the</span> <span style="color:#960050;background-color:#1e0010">number</span> <span style="color:#960050;background-color:#1e0010">of</span> <span style="color:#960050;background-color:#1e0010">records</span> <span style="color:#960050;background-color:#1e0010">that</span> <span style="color:#960050;background-color:#1e0010">need</span> <span style="color:#960050;background-color:#1e0010">to</span> <span style="color:#960050;background-color:#1e0010">be</span> <span style="color:#960050;background-color:#1e0010">returned</span> <span style="color:#960050;background-color:#1e0010">for</span> <span style="color:#960050;background-color:#1e0010">a</span> <span style="color:#960050;background-color:#1e0010">page.</span>
     <span style="color:#960050;background-color:#1e0010">offset</span> <span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#960050;background-color:#1e0010">10,</span> <span style="color:#960050;background-color:#1e0010">//This</span> <span style="color:#960050;background-color:#1e0010">specifies</span> <span style="color:#960050;background-color:#1e0010">the</span> <span style="color:#960050;background-color:#1e0010">number</span> <span style="color:#960050;background-color:#1e0010">of</span> <span style="color:#960050;background-color:#1e0010">rows</span> <span style="color:#960050;background-color:#1e0010">to</span> <span style="color:#960050;background-color:#1e0010">skip</span> <span style="color:#960050;background-color:#1e0010">before</span> <span style="color:#960050;background-color:#1e0010">starting</span> <span style="color:#960050;background-color:#1e0010">to</span>    <span style="color:#960050;background-color:#1e0010">return</span> <span style="color:#960050;background-color:#1e0010">rows</span>
     <span style="color:#960050;background-color:#1e0010">filteredCount</span> <span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#960050;background-color:#1e0010">2,</span> <span style="color:#960050;background-color:#1e0010">//</span> <span style="color:#960050;background-color:#1e0010">This</span> <span style="color:#960050;background-color:#1e0010">specified</span> <span style="color:#960050;background-color:#1e0010">the</span> <span style="color:#960050;background-color:#1e0010">number</span> <span style="color:#960050;background-color:#1e0010">of</span> <span style="color:#960050;background-color:#1e0010">records</span> <span style="color:#960050;background-color:#1e0010">mathced</span> <span style="color:#960050;background-color:#1e0010">with</span> <span style="color:#960050;background-color:#1e0010">search</span> <span style="color:#960050;background-color:#1e0010">text</span>
}
</code></pre></div><ol start="7">
<li>You can also implement your own ITablePaginator if you wish you have any other behavior</li>
<li>Now, assume your application uses any relation or NO-SQL database which supports pagination and filtering option by using a query.</li>
<li>In such a case, you can still this plugin by overriding the getPageEntries(PaginationCriteria criteria) method from PaginationDataServiceBase, but remember you need to write a query with ordering, limiting, offset, and filtering clause</li>
</ol>
<hr>
<h3 id="points-to-remember">POINTS TO REMEMBER</h3>
<p>if you want to sort a nested column, for example, An Employee object has a Company object inside it that if you wish to sort the employee using company name then you need to set the column value as &ldquo;company.name&rdquo; of PaginationCriteria class.</p>
<hr>
<h3 id="caveats">Caveats</h3>
<p>The performance of in-memory pagination is fully dependent on the machine that uses. This plugin will really help when you have tens-of-thousands of data to show on your webpage with pagination.</p>

</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://krish22.github.io/posts/spring-boot-migration/"><i class="fa fa-chevron-circle-left"></i> Spring Boot Migration From 1.5 to 2.0.5</a>
        </li>
        
        
    </ul>
</section>
  
    
    
        <section class="comments-block">
      <button id="show-comments" style="display: none;"><i class="fa fa-comments"></i> Add/View Comments</button>
</section>

<section id="disqus_thread"></section>

<script>
      (function () {
            
            
            if (window.location.hostname == "localhost")
                  return;

            var disqus_loaded = false;
            var disqus_shortname = 'kris22-github-io';
            var disqus_button = document.getElementById("show-comments");

            var disqus_autoload =  true ;
            var disable_comment =  null ;

            if (disable_comment)
                  return;

            disqus_button.style.display = "";

            if (disqus_autoload){
                  disqus();
            }else{
                  disqus_button.addEventListener("click", disqus, false);
            }

            function disqus() {

                  if (!disqus_loaded) {
                        disqus_loaded = true;

                        var e = document.createElement("script");
                        e.type = "text/javascript";
                        e.async = true;
                        e.src = "//" + disqus_shortname + ".disqus.com/embed.js";
                        (document.getElementsByTagName("head")[0] ||
                              document.getElementsByTagName("body")[0])
                        .appendChild(e);

                        
                        document.getElementById("show-comments").style.display = "none";
                  }
            }

            
            var hash = window.location.hash.substr(1);
            if (hash.length > 8) {
                  if (hash.substring(0, 8) == "comment-") {
                        disqus();
                  }
            }

            
            if (/bot|google|baidu|bing|msn|duckduckgo|slurp|yandex/i.test(navigator.userAgent)) {
                  disqus();
            }
      })();
</script>

    
  





</main>
    <footer>
        <h6>Copyright © 2020 - Krishnan </h6>
    </footer>
</div>
<script src="https://krish22.github.io/js/scripts.js"></script>

</body>

</html>

